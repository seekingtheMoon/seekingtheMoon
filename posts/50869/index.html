<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.1.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-loading-bar.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"ekkoqaq.cc","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"right","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":true,"color":"#FF0000","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="Scripting language 脚本语言">
<meta property="og:type" content="article">
<meta property="og:title" content="Shell Scripting">
<meta property="og:url" content="https://ekkoqaq.cc/posts/50869/index.html">
<meta property="og:site_name" content="Shallow Dream">
<meta property="og:description" content="Scripting language 脚本语言">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2023-11-26T15:55:42.000Z">
<meta property="article:modified_time" content="2024-03-10T16:32:40.424Z">
<meta property="article:author" content="Ekko">
<meta property="article:tag" content="Shell">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://ekkoqaq.cc/posts/50869/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>Shell Scripting | Shallow Dream</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Shallow Dream</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Keep It Simple and Stupid!</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://ekkoqaq.cc/posts/50869/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="Ekko">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shallow Dream">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Shell Scripting
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-11-26 23:55:42" itemprop="dateCreated datePublished" datetime="2023-11-26T23:55:42+08:00">2023-11-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-03-11 00:32:40" itemprop="dateModified" datetime="2024-03-11T00:32:40+08:00">2024-03-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Skills/" itemprop="url" rel="index"><span itemprop="name">Skills</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Skills/Shell/" itemprop="url" rel="index"><span itemprop="name">Shell</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>4k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>14 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <blockquote>
<p>Scripting language 脚本语言</p>
</blockquote>
<span id="more"></span>
<p>接下来介绍一些使用 bash 作为脚本语言的基础知识，已经一些 Shell
tools，帮助解决在命令行中经常执行的几个常见任务，例如查找一些代码，或者一些藏得很深的文件</p>
<p>接下来将会以 bash 为例</p>
<h2 id="变量">变量</h2>
<p>定义变量是学习编程的第一步</p>
<p>在 bash 中，如果你想要创建变量，使用 <code>&#123;变量名&#125;=&#123;值&#125;</code>
的语法进行创建，使用该变量时，只需要在变量名前加上 <code>$</code>
字符</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ekko@Ling:~/桌面$ foo=bar</span><br><span class="line">ekko@Ling:~/桌面$ echo $foo</span><br><span class="line">bar</span><br></pre></td></tr></table></figure>
<p>一个需要注意的问题是，在 bash
中，空格非常关键，主要是因为空格是用于分隔参数的字符。</p>
<p>所以，错误使用空格，会导致出错</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ekko@Ling:~/桌面$ foo = bar</span><br><span class="line">Command &#x27;foo&#x27; not found</span><br></pre></td></tr></table></figure>
<p>Shell 会告诉你为什么出错，是因为 “foo” 命令没有执行，比如这里提示
“foo” 不存在</p>
<p>我们并没有成功的定义变量（联系 “foo” 和 “bar” ）</p>
<p>上面这个错误的语句被 bash 认为是调用了 “foo” 程序，第一个参数是 “=”
，第二个参数是 “bar” 。</p>
<p>所以对于空格，要注意处理，使用引号（也要注意单双引号区别）</p>
<h2 id="流程控制">流程控制</h2>
<p>bash 同样可以进行流程控制，例如 for 循环，while
循环，或者是定义函数</p>
<p>接下来给出一个函数的例子</p>
<p>我们经常会创建一个新的文件夹并进入这个文件夹</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ekko@Ling:~/桌面$ vim mcd.sh</span><br><span class="line">ekko@Ling:~/桌面$ cat mcd.sh</span><br><span class="line">mcd () &#123;</span><br><span class="line">    mkdir -p &quot;$1&quot;</span><br><span class="line">    cd &quot;$1&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这里使用 Vim 编写 mcd.sh 文件，文件内容如 <code>cat</code> 所示</p>
<p>我们可以在 Shell
中直接输入这个命令，他会定义该函数并起作用。但是有时候将这些内容写入文件会更好，使用
<code>source</code> 在 Shell 中加载并执行这个脚本，这时候我们的 Shell
中已经定义了 “mcd” 函数</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ekko@Ling:~/桌面$ source mcd.sh</span><br><span class="line">ekko@Ling:~/桌面$ mcd test</span><br><span class="line">ekko@Ling:~/桌面/test$ </span><br></pre></td></tr></table></figure>
<p>此时我们通过使用该命令，创建并进入一个 “test”
的目录，发现是可以正常运行的</p>
<p>此处的 <code>$1</code> 代表脚本的第一个参数，bash
使用各种特殊变量来引用参数，错误码和其他相关变量。下面是一些变量的列表。</p>
<ul>
<li><p><code>$0</code> 脚本名称</p></li>
<li><p><code>$1</code> 到 <code>$9</code> bash
脚本接受到的第一到第九个参数</p></li>
<li><p><code>$@</code> 获取执行脚本传入的所有参数</p></li>
<li><p><code>$#</code> 执行脚本传入参数的个数</p></li>
<li><p><code>$?</code> 可以获取上一个命令的错误代码</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ekko@Ling:~/桌面$ echo &quot;hello&quot;</span><br><span class="line">hello</span><br><span class="line">ekko@Ling:~/桌面$ echo $?</span><br><span class="line">0</span><br></pre></td></tr></table></figure>
<p>比如这里获取 <code>echo "hello"</code> 的错误代码，错误代码 “0” 和 C
语言一样，表示一切顺利，没有错误</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ekko@Ling:~/桌面$ grep foobar mcd.sh</span><br><span class="line">ekko@Ling:~/桌面$ echo $?</span><br><span class="line">1</span><br></pre></td></tr></table></figure>
<p>再比如，这里错误代码 “1” ，因为无法在 mcd.sh 中搜索到 “foobar”
并打印，所以 <code>grep</code> 不会有任何输出，但是会返回 “1”
的错误代码，告诉我们发生了错误</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ekko@Ling:~/桌面$ true</span><br><span class="line">ekko@Ling:~/桌面$ echo $?</span><br><span class="line">0</span><br><span class="line">ekko@Ling:~/桌面$ false</span><br><span class="line">ekko@Ling:~/桌面$ echo $?</span><br><span class="line">1</span><br></pre></td></tr></table></figure>
<p><code>true</code> 的错误代码为 0 ，<code>false</code> 的错误代码为
1</p>
<p>通过使用这些逻辑运算符，我们可以执行某些条件语句</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ekko@Ling:~/桌面$ false || echo &quot;Oops fail&quot;</span><br><span class="line">Oops fail</span><br><span class="line">ekko@Ling:~/桌面$ true || echo &quot;Will be not be printed&quot;</span><br><span class="line">ekko@Ling:~/桌面$ true &amp;&amp; echo &quot;Things went well&quot;</span><br><span class="line">Things went well</span><br><span class="line">ekko@Ling:~/桌面$ false &amp;&amp; echo &quot;This will not print&quot;</span><br><span class="line">ekko@Ling:~/桌面$ false ; echo &quot;This will always print&quot;</span><br></pre></td></tr></table></figure>
<p>和 C 语言一样，短路现象</p>
<p>同样也可以把任何语句，使用 <code>;</code> 连接在同一行</p></li>
<li><p><code>$$</code> 当前脚本的 PID（Process identification
number）</p></li>
<li><p><code>!!</code> 完整的最后一个命令，包括他的参数。</p>
<p>比如有时候某些命令，没有足够权限，需要我们使用 <code>sudo</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ekko@Ling:~/桌面$ mkdir /mnt/new</span><br><span class="line">mkdir: 无法创建目录 “/mnt/new”: 权限不够</span><br><span class="line">ekko@Ling:~/桌面$ sudo mkdir /mnt/new</span><br><span class="line">ekko@Ling:~/桌面$ sudo !!</span><br></pre></td></tr></table></figure>
<p>这里的 3 ，4 行命令就是等效的</p></li>
<li><p><code>$_</code> 可以获取上一个命令的最后一个参数</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ekko@Ling:~/桌面$ mkdir foo</span><br><span class="line">ekko@Ling:~/桌面$ cd $_</span><br><span class="line">ekko@Ling:~/桌面/foo$ </span><br></pre></td></tr></table></figure>
<p>创建一个目录后，进入该目录，就可以使用 <code>$_</code>
来代替目录名</p></li>
</ul>
<p>在会创建变量后，我们同样希望将一个命令的输出存储到一个变量中</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ekko@Ling:~/桌面$ foo=$(pwd)</span><br><span class="line">ekko@Ling:~/桌面$ echo $foo</span><br><span class="line">/home/ekko/桌面</span><br></pre></td></tr></table></figure>
<p>这样就将 <code>pwd</code> 的输出赋值给 foo 变量</p>
<p>同样可以进行命令替换</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ekko@Ling:~/桌面$ echo &quot;we are in $(pwd)&quot;</span><br><span class="line">we are in /home/ekko/桌面</span><br></pre></td></tr></table></figure>
<p>这样扩展为一个字符串</p>
<p>还有一个小众的工具称为进程替换，和命令替换有点类似</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">ekko@Ling:~/桌面$ cat &lt;(ls) &lt;(ls ..)</span><br><span class="line">mcd.sh</span><br><span class="line">VMwareTools-10.3.23-16594550.tar.gz</span><br><span class="line">vmware-tools-distrib</span><br><span class="line">公共的</span><br><span class="line">模板</span><br><span class="line">视频</span><br><span class="line">图片</span><br><span class="line">文档</span><br><span class="line">下载</span><br><span class="line">音乐</span><br><span class="line">桌面</span><br><span class="line">last-modified.txt</span><br><span class="line">snap</span><br></pre></td></tr></table></figure>
<p>它会内部执行，然后将输出放到一个类似临时文件的东西中，并将文件标识符提供给最左边命令</p>
<h2 id="简单脚本示例">简单脚本示例</h2>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">echo &quot;Starting program at $(date)&quot; # Date will be substituted</span><br><span class="line"></span><br><span class="line">echo &quot;Running program $0 with $# arguments with pid $$&quot;</span><br><span class="line"></span><br><span class="line">for file in &quot;$@&quot;; do</span><br><span class="line">    grep foobar &quot;$file&quot; &gt; /dev/null 2&gt; /dev/null</span><br><span class="line">    # When pattern is not found, grep has exit status 1</span><br><span class="line">    # we redirect STDOUT and STDERR to a null register since we do not care about them</span><br><span class="line">    if [[ &quot;$?&quot; -ne 0 ]]; then</span><br><span class="line">	echo &quot;File $file does not have any foobar, adding one&quot;</span><br><span class="line">	echo &quot;# foobar&quot; &gt;&gt; &quot;$file&quot;</span><br><span class="line">    fi</span><br><span class="line">done</span><br></pre></td></tr></table></figure>
<ul>
<li>line 3：打印脚本运行日期</li>
<li>line 5：打印脚本运行名称，运行的参数数量，脚本 PID</li>
<li>line 7：for 循环，从所有参数中，依次传递给 file 变量</li>
<li>line 8： <code>$file</code> 展开 file 变量，在该文件中搜索
“foobar”，<code>&gt;</code> 将结果写入某个文件，这里写入 null
文件，也就是丢弃了结果，<code>2&gt;</code> 重定向标准错误流</li>
<li>line 11：如果错误代码不为 0 ，<code>-ne</code>
比较运算符，不等于</li>
<li>line 12：打印 “文件{扩展文件名}中不含有任何 foobar，adding one”</li>
<li>line 13：添加 “# foobar” 到 {文件拓展名}，<code>&gt;&gt;</code>
追加</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ekko@Ling:~/桌面$ ./example.sh 1.txt example.sh</span><br><span class="line">Starting program at 2023年 06月 24日 星期六 16:43:28 CST</span><br><span class="line">Running program ./example.sh with 2 arguments with pid 3778</span><br><span class="line">File 1.txt does not have any foobar, adding one</span><br><span class="line">ekko@Ling:~/桌面$ cat 1.txt</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">foobar</span></span><br></pre></td></tr></table></figure>
<p>运行该脚本，并给定两个文件作为参数，其中 1.txt
为空白文件，是的他是可以把自己作为参数传进去的</p>
<p>line 4 给出缺失 foobar 并添加的信息</p>
<p>line 5,6 成功添加</p>
<h2 id="通配符">通配符</h2>
<p>当你在执行脚本的时候，还有一件事需要知道，你不需要一个一个输入文件名。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ekko@Ling:~/桌面$ ls</span><br><span class="line">1.txt       mcd.sh                               vmware-tools-distrib</span><br><span class="line">example.sh  VMwareTools-10.3.23-16594550.tar.gz</span><br><span class="line">ekko@Ling:~/桌面$ ls *.sh</span><br><span class="line">example.sh  mcd.sh</span><br></pre></td></tr></table></figure>
<p>这里想要引用所有的 .sh 文件，可以使用 <code>ls *.sh</code>
的命令，其中 <code>*</code> 被称为<strong>通配符 globbing</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">ekko@Ling:~/桌面$ ls project*</span><br><span class="line">project1:</span><br><span class="line"></span><br><span class="line">project2:</span><br><span class="line"></span><br><span class="line">project42:</span><br><span class="line">ekko@Ling:~/桌面$ ls project?</span><br><span class="line">project1:</span><br><span class="line"></span><br><span class="line">project2:</span><br></pre></td></tr></table></figure>
<p>有时候，你或许你希望获取 project1 ，project2，可以使用 <code>?</code>
做为通配符，它只会拓展为一个字符</p>
<p>通常情况下，通配符非常强大，你也可以结合使用</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ekko@Ling:~/桌面$ convert image.png image.jpg</span><br><span class="line">ekko@Ling:~/桌面$ convert image.&#123;png,jpg&#125;</span><br><span class="line">ekko@Ling:~/桌面$ touch foo&#123;,1,2,10&#125;</span><br><span class="line">ekko@Ling:~/桌面$ touch project&#123;1,2&#125;/src/test/test&#123;1,2,3&#125;.py</span><br></pre></td></tr></table></figure>
<ul>
<li><p>line 2 和 1 等效</p></li>
<li><p>line 3 效果等同于 <code>touch foo foo1 foo2 foo10</code></p></li>
<li><p>line 4 对于多层操作，他们将做笛卡尔积</p></li>
</ul>
<p>结合 <code>*</code> 和 <code>&#123;&#125;</code>
，甚至可以使用类似于区间的东西</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ekko@Ling:~/桌面$ mkdir foo bar</span><br><span class="line">ekko@Ling:~/桌面$ touch &#123;foo,bar&#125;/&#123;a..j&#125;</span><br></pre></td></tr></table></figure>
<p>可以在 foo 和 bar 目录中，创建文件 a 到文件 j</p>
<p>再次演示一下进程替换</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ekko@Ling:~/桌面$ touch foo/x bar/y</span><br><span class="line">ekko@Ling:~/桌面$ diff &lt;(ls foo) &lt;(ls bar)</span><br><span class="line">11c11</span><br><span class="line">&lt; x</span><br><span class="line">---</span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">y</span></span><br></pre></td></tr></table></figure>
<p>x 文件仅存在于第一个文件夹，y 文件仅存在于第二个文件夹</p>
<h2 id="其他语言和-shell-的交互">其他语言和 Shell 的交互</h2>
<p>实际上也可以用许多不同语言来实现与 Shell 交互的脚本</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python3</span></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">for</span> arg <span class="keyword">in</span> <span class="built_in">reversed</span>(sys.argv[<span class="number">1</span>:]):</span><br><span class="line">    <span class="built_in">print</span>(arg)</span><br></pre></td></tr></table></figure>
<p>line 1 <code>import sys</code> Python 默认情况下不会与 Shell
交互，所以需要导入库</p>
<p>这个脚本做一件非常简单的事情，遍历 “sys.argv[1:]”
，然后逆向输出他们</p>
<p>这里的 “sys.argv[1:]” 有点类似于在 bash 中我们得到的 “$0”
，“$1”，就像参数向量一样，将其逆序打印</p>
<p>开头这样一个魔法行，叫做<strong>解释行 Shebang</strong>，是让 Shell
知道如何运行这个脚本</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ekko@Ling:~/桌面$ python3 script.py a b c</span><br><span class="line">c</span><br><span class="line">b</span><br><span class="line">a</span><br></pre></td></tr></table></figure>
<p>可以这样运行这个脚本</p>
<p>但是，如果我们想让它在 Shell 中直接执行呢？</p>
<p>Shell 知道它必须使用 Python 作为解释器，这样才能通过 Shebang
的方式来运行此文件</p>
<p>Shebang 展示的就是运行这个脚本的程序所在路径（不同的机器会将 Python
放在不同的位置，使用命令 <code>which python3</code>获取）</p>
<p>或者在 Shebang 中给出参数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br></pre></td></tr></table></figure>
<p>对于绝大多数系统来说，可以在 <code>/usr/bin/</code> 中调用
<code>env</code> 命令，以 <code>python3</code>
为参数，然后通过路径环境变量，在该路径中搜索 Python
二进制文件，然后使用它来解释该文件，这将使得它的可移植性变强了，因此这个脚本可以在我的电脑，你的电脑和其他电脑上运行</p>
<p>但是 bash
并不现代化，有时调试起来可能会很棘手，默认情况下，有些故障可能不太直观，例如之前看到的
“foo” 命令不存在</p>
<p>所以有如下命令 <code>shellcheck</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">ekko@Ling:~/桌面$ shellcheck mcd.sh</span><br><span class="line"></span><br><span class="line">In mcd.sh line 1:</span><br><span class="line">mcd () &#123;</span><br><span class="line">^-- SC2148: Tips depend on target shell and yours is unknown. Add a shebang.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">In mcd.sh line 3:</span><br><span class="line">    cd &quot;$1&quot;</span><br><span class="line">    ^-----^ SC2164: Use &#x27;cd ... || exit&#x27; or &#x27;cd ... || return&#x27; in case cd fails.</span><br><span class="line"></span><br><span class="line">Did you mean: </span><br><span class="line">    cd &quot;$1&quot; || exit</span><br><span class="line"></span><br><span class="line">For more information:</span><br><span class="line">  https://www.shellcheck.net/wiki/SC2148 -- Tips depend on target shell and y...</span><br><span class="line">  https://www.shellcheck.net/wiki/SC2164 -- Use &#x27;cd ... || exit&#x27; or &#x27;cd ... |...</span><br></pre></td></tr></table></figure>
<p>他可以为你提供警告，语法错误和其他可能不正确引用或文件中错放空格的问题</p>
<p>比如对于很简单的 mcd.sh 文件，line 5 提示我们缺少 Shebang，line 8 -
13 提示我们使用短路语句应对 <code>cd</code>
失败的情况（我个人感觉这里这种 <code>cd ... || exit</code>
的写法真不错）</p>
<p>在编写 bash 脚本或函数时，直接运行脚本/函数和载入 Shell
的脚本/函数是有区别的（命令行中处理 bashrc 和
sshrc）但总的来说，如果你对例如你所在的所在路径进行更改，比如你
<code>cd</code> 到一个 bash 脚本并且只执行该 bash 脚本，这个脚本就不会
<code>cd</code> 到 Shell 当前所在路径；但是，如果你直接将代码加载到你的
Shell
中，加载后就是直接找到函数并执行该函数，那么他就可以直接在你当前路径执行，同样的道理也适用于在
Shell 中定义的变量</p>
<h2 id="shell-tools">Shell Tools</h2>
<p>接下来将讨论一些处理 Shell 时非常好用的工具</p>
<h3 id="查询如何使用命令">查询如何使用命令</h3>
<ul>
<li><p><code>man</code> 命令</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ekko@Ling:~/桌面$ man ls</span><br></pre></td></tr></table></figure>
<p>前篇介绍过，可以获取命令的使用文档或是描述工具，所以在有时候比较不方便，比如
<code>convert</code> 和 <code>ffmpeg</code> 它们的 <code>man</code>
页内容非常多</p></li>
<li><p><code>tldr</code> 工具（据说全称是 Too long；Don't read）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">  </span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong>这个东西很好用，但是我的虚拟机有点小 bug
，解决后补这里</strong></p>
<h3 id="查找文件">查找文件</h3>
<ul>
<li><p>一个非常朴素的办法，就是不断地 <code>ls</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ekko@Ling:~/桌面$ ls</span><br><span class="line">1.txt       foo        tldr</span><br><span class="line">bar         mcd.sh     VMwareTools-10.3.23-16594550.tar.gz</span><br><span class="line">example.sh  script.py  vmware-tools-distrib</span><br><span class="line">ekko@Ling:~/桌面$ ls foo</span><br><span class="line">a  b  c  d  e  f  g  h  i  j  x</span><br></pre></td></tr></table></figure>
<p>只要你找，应该都能找到（</p></li>
<li><p>如果我知道我要找的文件夹的名字，可以使用 <code>find</code>
命令</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ekko@Ling:~/桌面$ find . -name a -type f</span><br><span class="line">./foo/a</span><br><span class="line">./bar/a</span><br></pre></td></tr></table></figure>
<p><code>find</code> 的查找方式有很多种</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ekko@Ling:~/桌面$ find . -name src -type d</span><br><span class="line">ekko@Ling:~/桌面$ find . path &#x27;*/test/*.py&#x27; -type f</span><br><span class="line">ekko@Ling:~/桌面$ find . -mtime -1</span><br><span class="line">ekko@Ling:~/桌面$ find . size +500k -size -10M -name &#x27;*.tar.gz&#x27;</span><br></pre></td></tr></table></figure>
<p>line 1 查找所有名叫 src 的目录</p>
<p>line 2 查找所有路径中，父目录为 test 的 Python 文件</p>
<p>line 3 查找所有修改时间为过去一天内的文件</p>
<p>line 4 查找所有文件大小大于 500k 小于 10M 的文件</p></li>
<li><p><code>find</code> 同样可以在找到这些文件时，执行一些操作</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ekko@Ling:~/桌面$ find . -name &#x27;*.tmp&#x27; -exec rm &#123;&#125; \;</span><br><span class="line">ekko@Ling:~/桌面$ find . -name &#x27;*.png&#x27; -exec convert &#123;&#125; &#123;&#125;.jpg \;</span><br></pre></td></tr></table></figure>
<p>将找到的后缀为 .tmp 的文件执行 <code>rm</code> 操作</p>
<p>将找到的后缀为 .png 的文件转换为 .jpg 文件</p></li>
</ul>
<p>一般来说，关于 Shell
的另一个好处是不仅有这些工具，而且人们会不断发现新的方法，所以会有一些工具的替代品，了解他们非常好。</p>
<p>例如，如果你只是像匹配 .tmp
后缀的文件，可能很难做到这一点，因为他有很长的命令。所以就有了
<code>fd</code>
这样的东西，这是一个更短的命令，它默认使用正则表达式，甚至能忽略搜索你的
git 文件。它会用不同的颜色显示代码，更好的支持 Unicode 编码</p>
<ul>
<li><p><code>locate</code>
命令只会查找你的文件系统重包含你想要的子字符串的路径</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ekko@Ling:~/桌面$ locate foo</span><br></pre></td></tr></table></figure></li>
<li><p><code>grep</code>
命令可以在给定文件里查找指定字符串或正则表达式，并将结果所在行打印</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ekko@Ling:~/桌面$ grep foobar mcd.sh</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">foobar</span></span><br></pre></td></tr></table></figure>
<p><code>-r</code> 可以实现递归查找</p></li>
</ul>
<p>假如你知道你已经用某种编程语言编写了一些代码，并且知道它在你的文件系统的某个地方，但你实际上不知道在哪里。你就可以快速搜索他</p>
<ul>
<li><p>```shell ekko@Ling:~/桌面$ rg "import requests" -t py ~/scratch
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">这样可以在 scratch 文件夹里，搜索所有导入了 “request” 的 Python 文件</span><br><span class="line"></span><br></pre></td></tr></table></figure> ekko@Ling:~/桌面$ rg -u --files-without-match "^#!" -t sh
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">  `-u` 不忽略隐藏文件</span><br><span class="line"></span><br><span class="line">  `--files-without-match` 不满足匹配的文件</span><br><span class="line"></span><br><span class="line">  `&quot;^#\!&quot;` 正则表达式，表示在行的开头有一个 “ # ” 和 “ ! ”，这是一个 Shebang</span><br><span class="line"></span><br><span class="line">  上面两条命令，结合在一起就可以查找没有 Shebang 的文件了</span><br><span class="line"></span><br><span class="line">  `-t sh` 表示只查找 .sh 文件</span><br><span class="line"></span><br><span class="line">  `--stats` 标志，会展示一些附加信息</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 查找使用过的命令</span><br><span class="line"></span><br><span class="line">-  $\uparrow$ 可以慢慢浏览你的历史记录，寻找匹配项</span><br><span class="line"></span><br><span class="line">- `history` 打印使用过的命令的历史记录</span><br><span class="line"></span><br><span class="line">  ```shell</span><br><span class="line">  ekko@Ling:~/桌面$ history</span><br></pre></td></tr></table></figure></p>
<p>使用管道也可以只关注那些你希望看到的命令的历史记录</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ekko@Ling:~/桌面$ history | grep cd</span><br></pre></td></tr></table></figure></li>
<li><p><code>Ctrl-R</code> 反向搜索</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(reverse-i-search)`cd&#x27;: history | grep cd</span><br></pre></td></tr></table></figure>
<p>输入 <code>Ctrl-R</code> Shell
提示行就会变成上述样子，输入你需要查找的命令</p></li>
<li><p><code>fzf</code> 模糊查找，可以交互式的 <code>grep</code></p>
<p>没试过</p></li>
<li><p><code>history substring search</code> 历史子字符串搜索</p>
<p>当键入命令时动态搜索具有相同前缀的命令，当你需要时可以使用 <span class="math inline">\(\rightarrow\)</span>
自动补全，用来避免重新输入非常长的命令</p></li>
</ul>
<h3 id="快速目录列表和目录导航的工具">快速目录列表和目录导航的工具</h3>
<ul>
<li><p><code>-R</code> 递归列出某个目录的结构</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ekko@Ling:~/桌面/foo$ ls -R</span><br><span class="line">.:</span><br><span class="line">a  b  c  d  e  f  g  h  i  j  x</span><br></pre></td></tr></table></figure></li>
<li><p><code>tree</code> 更友好地打印目录结构</p></li>
<li><p><code>broot</code> 类似的，更友好地显示</p></li>
</ul>
<h2 id="exercise">Exercise</h2>
<ol type="1">
<li><p>根据 <code>man ls</code> 编写一个 <code>ls</code>
能够显示包括隐藏文件在内的所有文件的信息（权限，大小，所属，日期时间...）</p></li>
<li><p>编写两个函数 <code>marco()</code> 和 <code>polo()</code> ，当执行
<code>marco</code> 时标记当前位置，当执行 <code>polo</code> 时回到
<code>marco</code> 标记的位置（<del>这函数有点帅呀</del>）</p>
<p>marco.sh</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">marco()&#123;</span><br><span class="line">	export MARCO=$(pwd)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>polo.sh</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">polo()&#123;</span><br><span class="line">	cd &quot;$MARCO&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上述两个文件给一下执行权限后，<code>source</code>
一下就可以直接用了，你就可以在你的终端上飞雷神了</p>
<ul>
<li><code>export</code>
提升变量作用域，之前介绍的定义变量的方法为局部变量，<code>export</code>
将其变为全局变量，就可以互相可用了</li>
</ul></li>
</ol>

    </div>

    
    
    

      <footer class="post-footer">
          
          <div class="post-tags">
              <a href="/tags/Shell/" rel="tag"><i class="fa fa-tag"></i> Shell</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/posts/28017/" rel="prev" title="What is Shell?">
      <i class="fa fa-chevron-left"></i> What is Shell?
    </a></div>
      <div class="post-nav-item">
    <a href="/posts/10062/" rel="next" title="如何进行TDD">
      如何进行TDD <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%98%E9%87%8F"><span class="nav-number">1.</span> <span class="nav-text">变量</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6"><span class="nav-number">2.</span> <span class="nav-text">流程控制</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AE%80%E5%8D%95%E8%84%9A%E6%9C%AC%E7%A4%BA%E4%BE%8B"><span class="nav-number">3.</span> <span class="nav-text">简单脚本示例</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%80%9A%E9%85%8D%E7%AC%A6"><span class="nav-number">4.</span> <span class="nav-text">通配符</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%B6%E4%BB%96%E8%AF%AD%E8%A8%80%E5%92%8C-shell-%E7%9A%84%E4%BA%A4%E4%BA%92"><span class="nav-number">5.</span> <span class="nav-text">其他语言和 Shell 的交互</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#shell-tools"><span class="nav-number">6.</span> <span class="nav-text">Shell Tools</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9F%A5%E8%AF%A2%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="nav-number">6.1.</span> <span class="nav-text">查询如何使用命令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9F%A5%E6%89%BE%E6%96%87%E4%BB%B6"><span class="nav-number">6.2.</span> <span class="nav-text">查找文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BF%AB%E9%80%9F%E7%9B%AE%E5%BD%95%E5%88%97%E8%A1%A8%E5%92%8C%E7%9B%AE%E5%BD%95%E5%AF%BC%E8%88%AA%E7%9A%84%E5%B7%A5%E5%85%B7"><span class="nav-number">6.3.</span> <span class="nav-text">快速目录列表和目录导航的工具</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#exercise"><span class="nav-number">7.</span> <span class="nav-text">Exercise</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Ekko"
      src="/images/avatar.png">
  <p class="site-author-name" itemprop="name">Ekko</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">27</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">17</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">14</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title"><i class="fa fa-globe fa-fw"></i>
      我来人间凑个数(这是个集合)
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://monster-siren.hypergryph.com/" title="https:&#x2F;&#x2F;monster-siren.hypergryph.com&#x2F;" rel="noopener" target="_blank">塞壬唱片</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://imgod.me/" title="https:&#x2F;&#x2F;imgod.me&#x2F;" rel="noopener" target="_blank">imgod</a>
        </li>
    </ul>
  </div>

      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Ekko</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="站点总字数">37k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">2:14</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div><script color="119,119,119" opacity="0.5" zIndex="-1" count="99" src="https://cdn.jsdelivr.net/npm/canvas-nest.js@1/dist/canvas-nest.js"></script>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>

<script src="/js/bookmark.js"></script>




  















  

  

  

</body>
</html>
